HATEOAS(Hypermedia as the Engine of Application State)는 REST API의 핵심 개념 중 하나로, 클라이언트가 서버의 응답에서 제공하는 링크(hypermedia)를 통해 애플리케이션의 상태 전환을 수행할 수 있도록 하는 원칙입니다. 이 개념을 깊이 이해하려면 REST와 하이퍼미디어의 개념부터 차근차근 살펴보겠습니다.

### 1. REST의 기본 개념

REST(Representational State Transfer)는 분산 시스템에서 자원을 관리하고 통신하기 위한 아키텍처 스타일입니다. RESTful한 시스템은 다음과 같은 기본 원칙을 따릅니다:

- **클라이언트-서버 구조**: 클라이언트와 서버가 독립적으로 동작하며, 클라이언트는 서버에 자원을 요청하고, 서버는 해당 자원을 제공하는 방식입니다.
- **무상태성**: 서버는 클라이언트의 상태를 저장하지 않습니다. 각 요청은 독립적이며, 클라이언트는 요청 시 필요한 모든 정보를 포함하여 보내야 합니다.
- **캐시 가능성**: 자원에 대해 캐시가 가능해야 하며, 이는 네트워크 효율성을 높이고 성능을 향상시킵니다.
- **계층화된 시스템 구조**: 클라이언트는 서버에 직접적으로 접근할 필요 없이 중간 계층을 통해 자원을 요청할 수 있습니다.
- **통합된 인터페이스**: 클라이언트와 서버 간의 통신에 일관된 자원 식별 및 표현 방식을 사용합니다. 예를 들어, 모든 자원은 URI로 접근하며, 데이터는 JSON이나 XML 등 표준화된 형식으로 표현됩니다.

### 2. HATEOAS의 정의

HATEOAS는 REST의 중요한 원칙 중 하나로, 서버가 클라이언트에게 자원에 대한 정보를 제공할 때 해당 자원과 관련된 링크(하이퍼미디어)를 포함하여 전달하는 것을 의미합니다. 이 링크들을 통해 클라이언트는 어떤 작업을 할 수 있는지 안내를 받고, 서버가 제공한 링크를 따라 이동함으로써 애플리케이션 상태 전이를 수행할 수 있습니다.

즉, HATEOAS를 통해 **클라이언트는 서버가 응답으로 제공하는 링크에 따라 애플리케이션의 흐름을 탐색할 수 있게 됩니다.** 이를 통해 클라이언트는 애플리케이션의 모든 세부사항을 사전에 알 필요 없이, 서버에서 제공하는 링크를 통해 필요한 기능을 이용할 수 있습니다.

### 3. HATEOAS의 동작 방식

HATEOAS의 핵심 아이디어는 서버가 리소스 정보와 함께 그 리소스와 관련된 다음 동작에 대한 정보를 포함해 제공하는 것입니다. 예를 들어, 고객 정보 조회 API를 호출했을 때, 고객 정보를 응답할 뿐만 아니라, 이 고객 정보를 수정하거나 삭제할 수 있는 링크를 함께 제공하는 방식입니다.

#### 예시

아래는 고객 정보를 조회하는 REST API 응답 예시입니다:

```json
{
    "id": 123,
    "name": "John Doe",
    "email": "johndoe@example.com",
    "links": [
        {
            "rel": "self",
            "href": "/customers/123",
            "method": "GET"
        },
        {
            "rel": "update",
            "href": "/customers/123",
            "method": "PUT"
        },
        {
            "rel": "delete",
            "href": "/customers/123",
            "method": "DELETE"
        },
        {
            "rel": "orders",
            "href": "/customers/123/orders",
            "method": "GET"
        }
    ]
}
```

- **self**: 현재 자원의 위치를 가리키며, 이를 통해 클라이언트는 이 자원에 다시 접근할 수 있습니다.
- **update**: 고객 정보를 수정할 수 있는 링크입니다.
- **delete**: 고객 정보를 삭제할 수 있는 링크입니다.
- **orders**: 고객이 주문한 목록에 접근할 수 있는 링크입니다.

이러한 링크들을 통해 클라이언트는 어떤 작업을 할 수 있는지 명확하게 알 수 있습니다. 예를 들어, 주문 정보를 조회하려면 `orders` 링크를 따라가면 됩니다. 또한, 이 구조 덕분에 클라이언트는 서버의 URI 구조나 기능을 사전에 알 필요 없이 응답에 포함된 링크를 통해 동적으로 탐색할 수 있습니다.

### 4. HATEOAS의 장점

1. **클라이언트와 서버의 독립성**: HATEOAS를 사용하면 클라이언트는 서버의 API 엔드포인트에 대한 사전 지식이 거의 필요 없게 됩니다. 서버가 필요한 링크를 제공하므로 클라이언트는 해당 링크를 통해 필요한 작업을 수행할 수 있습니다.
  
2. **유연한 API 확장성**: 새로운 기능이나 자원이 추가되더라도 클라이언트는 기존 API 응답에 추가된 링크를 통해 새 기능을 자연스럽게 이용할 수 있습니다. 예를 들어, 고객의 주소 정보를 추가할 경우 `address`라는 링크를 제공하기만 하면 됩니다.
  
3. **사용성 개선**: 클라이언트는 응답에 포함된 링크를 통해 API의 사용 가능성을 쉽게 파악할 수 있어, 복잡한 문서 없이도 API를 더 직관적으로 사용할 수 있습니다.

### 5. HATEOAS의 단점

1. **구현 복잡성**: HATEOAS를 적용하려면 API 응답을 설계할 때, 각 리소스에 대한 링크 정보를 추가하고 유지하는 작업이 필요합니다. 이로 인해 API 설계와 구현이 복잡해질 수 있습니다.
  
2. **네트워크 오버헤드**: 모든 응답에 링크가 포함되기 때문에 데이터의 양이 늘어날 수 있으며, 이는 트래픽이 많은 환경에서는 성능 문제를 일으킬 수 있습니다.
  
3. **표준화의 어려움**: HATEOAS를 적용할 때 어떤 링크를 어떤 형식으로 제공할지에 대해 표준이 명확하지 않아, 일관된 구현이 어렵습니다. 이를 해결하기 위해 일부 개발자들은 HAL, JSON-LD와 같은 하이퍼미디어 형식을 사용하기도 합니다.

### 6. HATEOAS와 REST의 관계

HATEOAS는 REST의 완전한 구현을 위한 한 가지 원칙이지만, 모든 REST API에서 HATEOAS를 사용하는 것은 아닙니다. HATEOAS를 포함한 REST의 모든 제약 조건을 완전히 따르는 시스템을 '진정한 RESTful 시스템'으로 간주하기도 하지만, 대부분의 REST API는 HATEOAS를 사용하지 않고도 기능을 잘 수행합니다.

### 7. HATEOAS를 구현하기 위한 하이퍼미디어 형식

HATEOAS를 구현하기 위해 일부 표준 형식이 사용되기도 합니다:
  
- **HAL(Hypertext Application Language)**: REST API 응답에 하이퍼미디어 링크를 추가하기 위한 JSON 형식입니다. `"_links"` 속성을 통해 리소스와 관련된 링크를 제공합니다.
  
- **JSON-LD(JSON for Linking Data)**: JSON 형식으로 링크 데이터를 표현하는 형식으로, 그래프 기반의 링크 데이터 형식을 제공합니다.

각 형식을 사용하면 일관된 방식으로 링크를 표현할 수 있어 HATEOAS 구현에 도움이 됩니다.

### 요약

HATEOAS는 REST API에서 클라이언트가 서버로부터 받은 링크를 통해 동적으로 애플리케이션의 상태 전이를 수행할 수 있도록 하는 설계 원칙입니다. 이를 통해 클라이언트와 서버 간의 결합도가 낮아지고, API를 확장하거나 변경할 때 유연성을 높일 수 있습니다. 그러나 구현의 복잡성이나 네트워크 부하 증가와 같은 단점도 존재합니다.