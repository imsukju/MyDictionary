### **IPC (Inter-Process Communication)**

- *IPC(Inter-Process Communication)**는 **프로세스 간 통신**을 의미하며, 서로 독립적으로 실행 중인 **프로세스들 간에 데이터를 주고받거나 상호작용**하기 위한 메커니즘입니다.

운영체제는 **보호 메모리 모델**을 사용하여 각 프로세스가 자신의 메모리 공간만 접근하도록 설계되었으므로, **직접적인 메모리 공유는 불가능**합니다. IPC는 이러한 제한을 극복하고 프로세스 간 협업을 가능하게 합니다.

---

## **1. IPC의 필요성**

### 프로세스 간 데이터 교환

- 현대 애플리케이션은 서로 독립적인 프로세스로 나뉘어 실행됩니다.
예를 들어:
    - 웹 서버와 데이터베이스는 서로 다른 프로세스입니다.
    - 프로세스 간 통신이 필요합니다. (예: 웹 서버가 데이터베이스에 질의)

### 메모리 보호 모델

- 프로세스는 서로의 메모리에 접근할 수 없습니다.
IPC는 **안전하고 효율적인 데이터 교환**을 위해 설계되었습니다.

---

## **2. IPC의 주요 활용 사례**

1. **클라이언트-서버 모델**:
    - 서버와 클라이언트 간 요청/응답 통신.
    - 예: 웹 브라우저와 웹 서버.
2. **병렬 프로세싱**:
    - 여러 프로세스가 동시에 작업하며 데이터를 교환.
    - 예: 다중 스레드 프로그램에서 병렬로 데이터를 처리.
3. **데이터 교환**:
    - 프로세스가 대량의 데이터를 주고받을 때.
    - 예: 파일 처리, 로그 전송.
4. **프로세스 동기화**:
    - 특정 작업 순서를 보장.
    - 예: 리소스 접근 제어.

---

## **3. IPC의 주요 메커니즘**

운영체제가 제공하는 여러 IPC 메커니즘은 아래와 같습니다:

### **(1) 파이프(Pipes)**

- **설명**:
    - 단방향 통신.
    - 한 프로세스의 출력(stdout)을 다른 프로세스의 입력(stdin)으로 연결.
    - 두 프로세스 간 **부모-자식 관계** 필요.
- **사용 예시**:
    
    ```bash
    ls | grep "txt"
    
    ```
    
    - `ls`의 출력이 `grep`의 입력으로 전달됩니다.
- **제한**:
    - 단방향(한쪽에서만 읽고 다른 쪽에서만 씀).
    - 부모-자식 프로세스 간에만 사용 가능.

---

### **(2) 네임드 파이프(Named Pipes, FIFO)**

- **설명**:
    - 파일 시스템 기반의 **이름을 가진 파이프**.
    - 부모-자식 관계가 아닌 **모든 프로세스** 간 통신 가능.
- **사용 예시**:
    1. FIFO 파일 생성:
        
        ```bash
        mkfifo mypipe
        
        ```
        
    2. 데이터 쓰기:
        
        ```bash
        echo "Hello, IPC" > mypipe
        
        ```
        
    3. 데이터 읽기:
        
        ```bash
        cat < mypipe
        
        ```
        

---

### **(3) 메시지 큐(Message Queue)**

- **설명**:
    - 커널 공간에 메시지를 저장하고 전달.
    - **식별자**(키)를 통해 여러 프로세스가 접근 가능.
    - FIFO 순서로 메시지를 읽음.
- **장점**:
    - 동기화가 필요 없을 때 데이터 전달에 효율적.
    - 부모-자식 관계 불필요.
- **제한**:
    - 커널에 의존하므로, 설정 제한이 있을 수 있음.

---

### **(4) 공유 메모리(Shared Memory)**

- **설명**:
    - 여러 프로세스가 같은 메모리 공간을 공유.
    - 가장 빠른 IPC 방식.
- **사용 방식**:
    - 커널이 **공유 메모리 세그먼트**를 생성.
    - 여러 프로세스가 이 세그먼트를 매핑하여 접근.
- **장점**:
    - 대량의 데이터를 빠르게 전달 가능.
- **제한**:
    - 동기화가 필요하며, 잘못 사용하면 데이터 손상 가능.
    - 동기화 도구(세마포어, 뮤텍스)와 함께 사용.

---

### **(5) 소켓(Sockets)**

- **설명**:
    - 네트워크 기반 IPC 방식.
    - 프로세스 간 **로컬** 및 **원격 통신** 가능.
- **유형**:
    1. **UNIX 도메인 소켓**:
        - 동일 시스템 내 프로세스 간 통신.
    2. **TCP/UDP 소켓**:
        - 다른 시스템 간 네트워크 통신.
- **사용 예시**:
    - 클라이언트-서버 애플리케이션.

---

### **(6) 시그널(Signals)**

- **설명**:
    - 프로세스 간 **이벤트 알림**을 전달.
    - 데이터 전달보다는 상태 전환이나 작업 중단에 사용.
- **사용 예시**:
    - `SIGINT`: Ctrl+C로 프로세스를 종료.
    - `SIGKILL`: 프로세스 강제 종료.

---

### **(7) 세마포어(Semaphores)**

- **설명**:
    - 동기화 도구.
    - 프로세스들이 공유 리소스에 동시에 접근하지 않도록 제어.
- **사용 예시**:
    - 데이터베이스 트랜잭션 중 동시성 제어.

---

### **(8) D-Bus**

- **설명**:
    - 현대 리눅스 환경에서 IPC를 지원하는 고수준 API.
    - GUI 애플리케이션 간 데이터 교환에 사용.
    - 예: GNOME, KDE에서 사용.

---

## **4. IPC의 장단점**

### **장점**:

1. **데이터 교환 가능**: 프로세스 간 협력을 통해 복잡한 작업 수행.
2. **동기화 가능**: 특정 조건에서 작업 순서 보장.
3. **다양한 메커니즘**: 상황에 맞게 최적의 방식 선택 가능.

### **단점**:

1. **복잡성 증가**: 구현 및 디버깅이 복잡.
2. **성능 문제**: 일부 IPC는 오버헤드가 크거나 동기화 비용이 큼.
3. **데이터 손상 위험**: 공유 메모리에서 동기화 문제로 인해.

---

## **5. IPC 메커니즘 비교**

| **메커니즘** | **속도** | **통신 범위** | **데이터 크기** | **동기화 필요** |
| --- | --- | --- | --- | --- |
| **파이프** | 중간 | 단일 시스템 | 작음 | 필요 없음 |
| **메시지 큐** | 중간 | 단일 시스템 | 작음~중간 | 필요 없음 |
| **공유 메모리** | 빠름 | 단일 시스템 | 큼 | 필요 |
| **소켓** | 느림 | 로컬 및 네트워크 | 큼 | 필요 없음 |
| **세마포어** | 느림 | 단일 시스템 | N/A | 필요 |

---

## **6. 종합**

- IPC는 **프로세스 간 데이터를 교환하거나 작업을 동기화**하는 데 필수적인 도구입니다.
- 다양한 IPC 방식(파이프, 메시지 큐, 소켓 등)을 이해하고, **특정 상황과 요구 사항에 맞는 방식**을 선택하는 것이 중요합니다.
- **빠른 데이터 전송**이 필요하면 공유 메모리, **안전한 동기화**가 중요하면 세마포어, **네트워크 통신**이 필요하면 소켓을 사용하면 됩니다.